<!DOCTYPE html>
<html>
	<head>
		<!-- Required Meta Tags -->
		<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    	<meta name="google-site-verification" content="4vOmvaSE-x8mkBRHpsRbzPpDD2kmRRmwc5ARy83Q39M" />
    	<!-- Bootstrap 4 -->
    	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

		<title>COVID-19 UPDATES</title>

		<!-- Site icon -->
		<link rel="icon" href="{{ url_for('static', filename='images/icon.png') }}">

		<!-- style -->
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500&display=swap');

			.oswald {
				font-family: 'Oswald', sans-serif;
			}

			.fw-200 {
				font-weight: 200;
			}
			.fw-300 {
				font-weight: 300;
			}
			.fw-400 {
				font-weight: 400;
			}
			.fw-500 {
				font-weight: 500;
			}

			.ltr-space {
				letter-spacing: 1px;
			}

			.f-size-40 {
				font-size: 40px;
			}


			.f-size-70 {
				font-size: 70px;
			}

			.f-size-90 {
				font-size: 90px;
			}

			.dd-h {
				height: 250px;
				overflow-y: scroll;
			}

			.dropdown-btn:hover {
				cursor: pointer;
			}

			.col-sm-2 {
				margin-bottom: 4px !important;
			}
			.col-sm-6 {
				margin-bottom: 4px !important;
			}

			body {
				height: 100vh;
				margin: 0;
				padding: 0;
			}

			#particles-js {
				height: 100%;
				background-color: white;
			}

			.card {
				box-shadow: 5px 2px 19px -14px rgba(0,0,0,0.75);
			}

			/*width 812 */

		</style>

  		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	</head>

	<body>
		<!-- navbar -->
		<nav class="navbar navbar-expand-sm bg-light navbar-light">
			<!-- navbar brand -->
			<div class="navbar-brand">
				<span class="text-danger oswald">COVID-19 UPDATES </span><small class="text-muted oswald fw-200 ltr-space">from all over the world</small>
			</div>

			<!-- navbar items -->
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
		    		<p class="mb-0 oswald fw-200">{{ date }}</p>
		    	</li>
			</ul>
		</nav>

		<!-- content -->
		<div class="container-fluid">
			<div style="z-index: -1; position: fixed" id="particles-js"></div>
			<!-- dropdown -->
			<div class="dropdown text-center">
				<p class="text-center pt-3 mb-0"><small class="text-muted">Currently in:</small></p>
				<a class="mb-0 p-0 dropdown-btn text-primary" data-toggle='dropdown'><i class="material-icons">expand_more</i></a>
				<div class="dropdown-menu dd-h">
					<a class="dropdown-item" href="?country=World">World</a>
					<div class="dropdown-divider"></div>
				    {% for drop_country in countries %}
				    <a class="dropdown-item" href="?country={{ drop_country }}">{{ drop_country }}</a>
				    {% endfor %}
				</div>
			</div>
				
			<!-- current country -->
			<h1 class="text-center oswald mt-0 f-size-70">{{ url_country }}</h1>


				<div class="text-center mt-4"><small class="text-muted">Total cases: </small></div>
				<h1 class="text-center text-danger oswald f-size-90 fw-200" id="totalCaseCounter"></h1>
	
			<div class="row p-3">
				<div class="col-sm-2">
					<div class="card ">
						<div class="text-center"><small class="text-muted">Cases today: </small></div>
						<h2 class="text-center text-warning" id="caseTodayCounter"></h2>
					</div>
				</div>
				<div class="col-sm-2">
					<div class="card">
						<div class="text-center"><small class="text-muted">Active Cases: </small></div>
						<h2 class="text-center text-warning" id="activeCasesCounter"></h2>
					</div>
				</div>
				<div class="col-sm-2">
					<div class="card">
						<div class="text-center"><small class="text-muted">Total deaths: </small></div>
						<h2 class="text-center" id="deathCounter"></h2>
					</div>
				</div>
				<div class="col-sm-2">
					<div class="card">
						<div class="text-center"><small class="text-muted">Deaths Today: </small></div>
						<h2 class="text-center" id="todayDeathsCounter"></h2>
					</div>
				</div>
				<div class="col-sm-2">
					<div class="card">
						<div class="text-center"><small class="text-muted">Recovered: </small></div>
						<h2 class="text-center text-success" id="recoveredCounter"></h2>
					</div>
				</div>
				<div class="col-sm-2">
					<div class="card">
						<div class="text-center"><small class="text-muted">Critical Cases: </small></div>
						<h2 class="text-center text-danger" id="criticalCounter"></h2>
					</div>
				</div>
			</div>

			<div class="row p-3">
				<div class="col-sm-6">
					<div class="card">
						<div class="text-center"><small class="text-muted">Cases per one million: </small></div>
						<h2 class="text-center text-danger" id="casesPerOneMillion"></h2>
					</div>
				</div>
				
				<div class="col-sm-6">
					<div class="card">
						<div class="text-center"><small class="text-muted">Deaths per one million: </small></div>
						<h2 class="text-center text-danger" id="deathsPerOneMillion"></h2>
					</div>
				</div>
			</div>

			<div>
				<h1 class="text-center oswald fw-500">#StayAtHome</h1>
			</div>

		</div>

		<script src="{{ url_for('static', filename='js/particles.js') }}"></script>
		<script src="{{ url_for('static', filename='js/app.js') }}"></script>
		<!-- script for displaying the datas -->
		<script type="text/javascript">
			$(document).ready(function () {
	            function getPhilippineCovidCase() {
	                $.get("https://coronavirus-19-api.herokuapp.com/countries/{{ url_country }}", function (data) {
	                    $("#totalCaseCounter").html(data.cases);
	                    $("#caseTodayCounter").html(data.todayCases);
	                    $("#deathCounter").html(data.deaths)
	                    $("#todayDeathsCounter").html(data.todayDeaths)
	                    $("#recoveredCounter").html(data.recovered)
	                    $("#activeCasesCounter").html(data.active)
	                    $("#criticalCounter").html(data.critical);
	                    $("#casesPerOneMillion").html(data.casesPerOneMillion);
	                    $("#deathsPerOneMillion").html(data.deathsPerOneMillion);

	                    setTimeout(function () {
	                        getPhilippineCovidCase();
	                    }, 3600000);
	                });
	            }

	            getPhilippineCovidCase();
        	});
		</script>

	</body>

	<footer style="margin-top: 120px">
		<div class="text-center"><small class="text-muted">Made by Daniel Shan Balico 2020</small></div>
	</footer>
	<!-- heroku api https://coronavirus-19-api.herokuapp.com/countries -->
</html>